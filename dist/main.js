!function(){"use strict";var t={9662:function(t,e,n){var o=n(614),r=n(6330),i=TypeError;t.exports=function(t){if(o(t))return t;throw new i(r(t)+" is not a function")}},9670:function(t,e,n){var o=n(111),r=String,i=TypeError;t.exports=function(t){if(o(t))return t;throw new i(r(t)+" is not an object")}},8880:function(t,e,n){var o=n(9781),r=n(3070),i=n(9114);t.exports=o?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7045:function(t,e,n){var o=n(6339),r=n(3070);t.exports=function(t,e,n){return n.get&&o(n.get,e,{getter:!0}),n.set&&o(n.set,e,{setter:!0}),r.f(t,e,n)}},3072:function(t,e,n){var o=n(7854),r=Object.defineProperty;t.exports=function(t,e){try{r(o,t,{value:e,configurable:!0,writable:!0})}catch(n){o[t]=e}return e}},9781:function(t,e,n){var o=n(7293);t.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var o=n(7854),r=n(111),i=o.document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var o,r,i=n(7854),a=n(8113),s=i.process,c=i.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(r=(o=u.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(r=+o[1]),t.exports=r},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},4374:function(t,e,n){var o=n(7293);t.exports=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var o=n(4374),r=Function.prototype.call;t.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(t,e,n){var o=n(9781),r=n(2597),i=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=r(i,"name"),c=s&&"something"===function(){}.name,l=s&&(!o||o&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},1702:function(t,e,n){var o=n(4374),r=Function.prototype,i=r.call,a=o&&r.bind.bind(i,i);t.exports=o?a:function(t){return function(){return i.apply(t,arguments)}}},5005:function(t,e,n){var o=n(7854),r=n(614);t.exports=function(t,e){return arguments.length<2?(n=o[t],r(n)?n:void 0):o[t]&&o[t][e];var n}},8173:function(t,e,n){var o=n(9662),r=n(8554);t.exports=function(t,e){var n=t[e];return r(n)?void 0:o(n)}},7854:function(t,e,n){var o=function(t){return t&&t.Math===Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(t,e,n){var o=n(1702),r=n(7908),i=o({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(r(t),e)}},3501:function(t){t.exports={}},4664:function(t,e,n){var o=n(9781),r=n(7293),i=n(317);t.exports=!o&&!r((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},2788:function(t,e,n){var o=n(1702),r=n(614),i=n(5465),a=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},9909:function(t,e,n){var o,r,i,a=n(4811),s=n(7854),c=n(111),l=n(8880),u=n(2597),p=n(5465),h=n(6200),d=n(3501),f="Object already initialized",g=s.TypeError,m=s.WeakMap;if(a||p.state){var v=p.state||(p.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,o=function(t,e){if(v.has(t))throw new g(f);return e.facade=t,v.set(t,e),e},r=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var y=h("state");d[y]=!0,o=function(t,e){if(u(t,y))throw new g(f);return e.facade=t,l(t,y,e),e},r=function(t){return u(t,y)?t[y]:{}},i=function(t){return u(t,y)}}t.exports={set:o,get:r,has:i,enforce:function(t){return i(t)?r(t):o(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}}}},614:function(t,e,n){var o=n(4154),r=o.all;t.exports=o.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},8554:function(t){t.exports=function(t){return null==t}},111:function(t,e,n){var o=n(614),r=n(4154),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:o(t)||t===i}:function(t){return"object"==typeof t?null!==t:o(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var o=n(5005),r=n(614),i=n(7976),a=n(3307),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return r(e)&&i(e.prototype,s(t))}},6339:function(t,e,n){var o=n(1702),r=n(7293),i=n(614),a=n(2597),s=n(9781),c=n(6530).CONFIGURABLE,l=n(2788),u=n(9909),p=u.enforce,h=u.get,d=String,f=Object.defineProperty,g=o("".slice),m=o("".replace),v=o([].join),y=s&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===g(d(e),0,7)&&(e="["+m(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(s?f(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&a(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var o=p(t);return a(o,"source")||(o.source=v(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return i(this)&&h(this).source||l(this)}),"toString")},3070:function(t,e,n){var o=n(9781),r=n(4664),i=n(3353),a=n(9670),s=n(4948),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",h="configurable",d="writable";e.f=o?i?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var o=u(t,e);o&&o[d]&&(t[e]=n.value,n={configurable:h in n?n[h]:o[h],enumerable:p in n?n[p]:o[p],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=s(e),a(n),r)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7976:function(t,e,n){var o=n(1702);t.exports=o({}.isPrototypeOf)},2140:function(t,e,n){var o=n(6916),r=n(614),i=n(111),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&r(n=t.toString)&&!i(s=o(n,t)))return s;if(r(n=t.valueOf)&&!i(s=o(n,t)))return s;if("string"!==e&&r(n=t.toString)&&!i(s=o(n,t)))return s;throw new a("Can't convert object to primitive value")}},7066:function(t,e,n){var o=n(9670);t.exports=function(){var t=o(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4488:function(t,e,n){var o=n(8554),r=TypeError;t.exports=function(t){if(o(t))throw new r("Can't call method on "+t);return t}},6200:function(t,e,n){var o=n(2309),r=n(9711),i=o("keys");t.exports=function(t){return i[t]||(i[t]=r(t))}},5465:function(t,e,n){var o=n(7854),r=n(3072),i="__core-js_shared__",a=o[i]||r(i,{});t.exports=a},2309:function(t,e,n){var o=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:o?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,n){var o=n(7392),r=n(7293),i=n(7854).String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},7908:function(t,e,n){var o=n(4488),r=Object;t.exports=function(t){return r(o(t))}},7593:function(t,e,n){var o=n(6916),r=n(111),i=n(2190),a=n(8173),s=n(2140),c=n(5112),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!r(t)||i(t))return t;var n,c=a(t,u);if(c){if(void 0===e&&(e="default"),n=o(c,t,e),!r(n)||i(n))return n;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:function(t,e,n){var o=n(7593),r=n(2190);t.exports=function(t){var e=o(t,"string");return r(e)?e:e+""}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:function(t,e,n){var o=n(1702),r=0,i=Math.random(),a=o(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++r+i,36)}},3307:function(t,e,n){var o=n(6293);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var o=n(9781),r=n(7293);t.exports=o&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(t,e,n){var o=n(7854),r=n(614),i=o.WeakMap;t.exports=r(i)&&/native code/.test(String(i))},5112:function(t,e,n){var o=n(7854),r=n(2309),i=n(2597),a=n(9711),s=n(6293),c=n(3307),l=o.Symbol,u=r("wks"),p=c?l.for||l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)||(u[t]=s&&i(l,t)?l[t]:p("Symbol."+t)),u[t]}},2087:function(t,e,n){var o=n(7854),r=n(9781),i=n(7045),a=n(7066),s=n(7293),c=o.RegExp,l=c.prototype;r&&s((function(){var t=!0;try{c(".","d")}catch(e){t=!1}var e={},n="",o=t?"dgimsy":"gimsy",r=function(t,o){Object.defineProperty(e,t,{get:function(){return n+=o,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(i.hasIndices="d"),i)r(a,i[a]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(e)!==o||n!==o}))&&i(l,"flags",{configurable:!0,get:a})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){n(2087);var t=class{constructor(){this.modal=document.getElementById("country-modal"),this.flag=document.getElementById("flag"),this.name=document.getElementById("modal-country-name"),this.population=document.getElementById("population"),this.capital=document.getElementById("capital"),this.currency=document.getElementById("currency"),this.languages=document.getElementById("languages-spoken"),this.region=document.getElementById("region"),this.nativeName=document.getElementById("native-name"),this.initialModal=document.getElementById("initial-modal"),this.closeInitialModalButton=document.getElementById("close-initial-modal"),this.closeInitialModalButton.addEventListener("click",this.closeInitialModal.bind(this)),this.initialModal.addEventListener("click",this.closeInitialModal.bind(this)),this.initialModal.querySelector(".modal-content").addEventListener("click",(t=>{t.stopPropagation()}))}openInitialModal(){this.initialModal.style.display="block"}closeInitialModal(){this.initialModal.style.display="none"}async openModal(t){try{let e=await fetch(`https://restcountries.com/v3.1/name/${t}`).then((t=>{if(t.ok)return t.json();throw new Error(t)}));if(this.name.innerHTML=t,e.length>1){let t=this.name.innerHTML;e.forEach(((n,o)=>{n.name.common===t&&(e=[e[o]])}))}this.flag.src=e[0].flags.png;const n=e[0].name.nativeName;let o;for(let t in n)if(n.hasOwnProperty(t)&&"Africa"!=e[0].region)o=e[0].name.common===n[t].common?n[t].official:n[t].common;else if(n.hasOwnProperty(t)){o=e[0].name.common===n[t].common?n[t].official:n[t].common;break}this.nativeName.innerHTML=o?`Native Name: ${o}`:"Native Name not available",e[0].capital.length>1?this.capital.innerHTML=`Capital: ${e[0].capital[e[0].capital.length-1]}`:this.capital.innerHTML=`Capital: ${e[0].capital}`,e[0].population<1e6?this.population.innerHTML=`Population: ${(e[0].population/1e3).toFixed(1)} thousand`:e[0].population>1e6&&e[0].population<1e9?this.population.innerHTML=`Population: ${(e[0].population/1e6).toFixed(1)} million`:this.population.innerHTML=`Population: ${(e[0].population/1e9).toFixed(1)} billion`,Object.values(e[0].languages).join(", "),Object.values(e[0].languages).length>1?this.languages.innerHTML="Languages spoken: "+Object.values(e[0].languages)[0]+", "+Object.values(e[0].languages)[1]:this.languages.innerHTML=`Native language: ${Object.values(e[0].languages)}`;const r=Object.entries(e[0].currencies).map((t=>{let[e,n]=t;return void 0===n.symbol?`${n.name}`:`${n.name} ( ${n.symbol} )`})).join(", ");this.currency.innerHTML=`Currency: ${r}`,this.region.innerHTML=`Region: ${e[0].region}`,this.modal.style.display="block"}catch(t){console.log("Failure!"),console.error(t)}}closeModal(){this.refresh(),document.querySelector(".close").addEventListener("click",(()=>{this.modal.style.display="none"}))}refresh(){this.modal.style.display="none"}},e=class{constructor(t,e){this.svg=t,this.modalHandler=e}addListeners(){this.svg.on("mouseover",(t=>this.handleMouseOver(t))),this.svg.on("mouseout",(()=>this.handleMouseOut())),this.svg.on("click",(t=>this.handleClick(t)))}handleMouseOver(t){const e=t.target;e.classList.contains("country")&&(document.getElementById("country-name").innerHTML=e.getAttribute("name"))}handleMouseOut(){document.getElementById("country-name").innerHTML="Select a Country"}handleClick(t){const e=t.target;if(e.classList.contains("country")){const t=document.querySelector(".highlighted-country");t&&t.classList.remove("highlighted-country"),e.classList.add("highlighted-country"),this.modalHandler.refresh();const n=e.getAttribute("name");this.modalHandler.openModal(n)}}animateParagraphs(){const t=document.querySelectorAll("#country-info p");let e=0;!function n(){e<t.length&&(t[e].classList.add("animate-p"),e++,setTimeout(n,4e3))}()}},o=class{constructor(t,e,n,o){this.projection=t,this.sensitivity=e,this.svg=n,this.path=o,this.rotationInterval=null}toggleRotation(){this.rotationInterval?(clearInterval(this.rotationInterval),this.rotationInterval=null):this.rotationInterval=setInterval((()=>{const t=this.projection.rotate(),e=this.sensitivity/this.projection.scale();this.projection.rotate([t[0]-1*e,t[1]]),this.path=d3.geoPath().projection(this.projection),this.svg.selectAll("path").attr("d",this.path)}),30)}},r=class{constructor(n){this.selector=n,this.width=500,this.height=500,this.sensitivity=75,this.projection=d3.geoOrthographic().scale(250).center([0,0]).rotate([0,-20]).translate([this.width/2,this.height/2]),this.initialScale=this.projection.scale(),this.path=d3.geoPath().projection(this.projection),this.svg=d3.select(n).append("svg").attr("width",this.width).attr("height",this.height),this.globe=this.svg.append("circle").attr("fill","rgb(33, 33, 33)").attr("stroke","#000").attr("stroke-width","0.2").attr("cx",this.width/2).attr("cy",this.height/2).attr("r",this.initialScale),this.svg.call(d3.drag().on("start",(t=>{t.sourceEvent&&t.sourceEvent.stopPropagation()})).on("drag",(t=>{if(!t.sourceEvent)return;const e=this.projection.rotate(),n=this.sensitivity/this.projection.scale();this.projection.rotate([e[0]+t.sourceEvent.movementX*n,e[1]-t.sourceEvent.movementY*n]),this.path=d3.geoPath().projection(this.projection),this.map.selectAll("path").attr("d",this.path)}))),this.map=this.svg.append("g"),this.rotationHandler=new o(this.projection,this.sensitivity,this.svg,this.path),this.modalHandler=new t,this.eventListeners=new e(this.svg,this.modalHandler),this.loadData(),this.addEventListeners(),this.rotationHandler.toggleRotation(),document.getElementById("pause").addEventListener("click",this.toggleRotation.bind(this)),this.searchInput=document.getElementById("searchTerm"),this.searchInput.addEventListener("input",(t=>{const e=t.target.value.trim().toLowerCase();this.filterCountries(e)}))}async loadData(){try{const t=await d3.json("data/world.json");this.map.selectAll("path").data(t.features).join("path").attr("class","country").attr("d",this.path).attr("name",(t=>t.properties.name))}catch(t){console.error("Failed to load globe data:",t)}}addEventListeners(){this.eventListeners.addListeners(),this.closeModal()}closeModal(){this.modalHandler.closeModal(),document.getElementById("map").style.filter="none"}toggleRotation(){this.rotationHandler.toggleRotation();const t=document.querySelector(".fa-solid.fa-pause.fa-xl"),e=document.querySelector(".fa-solid.fa-play.fa-xl");t?(t.classList.remove("fa-pause"),t.classList.add("fa-play")):e&&(e.classList.remove("fa-play"),e.classList.add("fa-pause"))}filterCountries(t){const e=document.querySelectorAll(".country"),n=[];if(e.forEach((e=>{e.getAttribute("name").toLowerCase().includes(t)?(e.style.display="block",n.push(e)):e.style.display="none"})),1===n.length){const t=n[0].getAttribute("name");this.modalHandler.openModal(t)}else this.closeModal()}};function i(t){console.warn(`ERROR(${t.code}): ${t.message}`)}function a(t){const e=t.coords;console.log("Your current position is:"),console.log(`Latitude : ${e.latitude}`),console.log(`Longitude: ${e.longitude}`),console.log(`More or less ${e.accuracy} meters.`)}addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("map");new r(t),navigator.geolocation.getCurrentPosition(a,i)}))}()}();
//# sourceMappingURL=main.js.map